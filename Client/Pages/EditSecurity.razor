@page "/editsecurity/{id:int}"

<h1>You can change the security you clicked</h1>

@if (security == null) {
    <span>Loading Security.....</span>
}
else {
    @if (security != null)
    {
        <EditForm Model="security">
            <div>
                <label for="securityName">Security Name</label>
                <InputText id="securityName" @bind-Value="security.SecurityName" class="form-control"></InputText>
            </div>
            <div>
                <label for="description">Description</label>
                <InputText id="description" @bind-Value="security.Description" class="form-control"></InputText>
            </div>
            <div>
                <label for="price">Price</label>
                <InputNumber id="price" @bind-Value="security.Price" class="form-control"></InputNumber>
            </div>
            <div>
                <label for="stokesOwned">Stocks Ownes</label>
                <InputNumber id="stocksOwned" @bind-Value="security.StockesOwned" class="form-control"></InputNumber>
            </div>
            <div>
                <label>Portfolio</label>
                <InputSelect @bind-Value="security.PortfolioId" class="form-select">
                    @foreach (var portfolio in Portfolios)
                    {
                        <option value="@portfolio.Id">@portfolio.NameOfPortfolio</option>
                    }
                </InputSelect>
            </div>
            <br />
            <div>
                <button type="submit" class="btn btn-primary" @onclick="HandleSubmit">Save</button>
            </div>
        </EditForm>
    }
}
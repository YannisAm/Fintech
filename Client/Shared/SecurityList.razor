@if (Securities ==null || Securities.Count == 0) 
{
    <AuthorizeView>
        <Authorized>
            <MudText Typo="Typo.body1">
                You have not yet a security. Please
                press <MudButton DisableRipple="true" Style="text-transform:none" Href="/addSecurity" Variant="Variant.Text">Add Security</MudButton> to be redirected to
                add a new security
            </MudText>
        </Authorized>
        <NotAuthorized>
            <MudText Typo="Typo.subtitle1">Please first <MudLink Href="/login">login</MudLink> to see this page</MudText>
        </NotAuthorized>
    </AuthorizeView>
}
else 
{
    <AuthorizeView>
        <Authorized>
            <MudTable Items="Securities" FixedHeader="true" Hover="true" Bordered="true" Filter="new Func<Security,bool>(FilterFunc1)" @bind-SelectedItem="_selectedItem1">
                <ToolBarContent>
                    <MudText Typo="Typo.h4"><u>Securities</u></MudText>
                    <MudSpacer />
                    <MudTextField @bind-Value="searchString1" Placeholder="Search" Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.Search" IconSize="Size.Medium" Class="mt-0"></MudTextField>
                </ToolBarContent>
                <HeaderContent>
                    <MudTh>Security Name</MudTh>
                    <MudTh>Price of the Security</MudTh>
                    <MudTh>Securities Owned</MudTh>
                    <MudTh>Value of Stocks</MudTh>
                    <MudTh>Date-time obtained</MudTh>
                    <MudTh>Portfolio</MudTh>
                    <MudTh>Description</MudTh>
                </HeaderContent>
                <RowTemplate Context="security">
                    <MudTd DataLabel="Security Name"><MudLink Href="@($"/securitydetails/{security.Id}")">@security.SecurityName</MudLink></MudTd>
                    <MudTd DataLabel="Price of the Security">$ @security.Price</MudTd>
                    <MudTd DataLabel="Securities Owned">@security.StockesOwned</MudTd>
                    <MudTd DataLabel="Value of Stocks">$ @security.StocksValue</MudTd>
                    <MudTd DataLabel="Date-time obtained">@security.DateTimeObtained</MudTd>
                    <MudTd DataLabel="Portfolio">@names[iterator++]</MudTd>
                    <MudTd DataLabel="Description">@CutTheText(security.Description)</MudTd>
                </RowTemplate>
                <FooterContent>
                    <MudTd>Sum</MudTd>
                    <MudTd>-</MudTd>
                    <MudTd>@NumberOfStocks()</MudTd>
                    <MudTd>$ @SumOfStocks()</MudTd>
                    <MudTd>-</MudTd>
                    <MudTd>-</MudTd>
                    <MudTd>-</MudTd>
                </FooterContent>
                <PagerContent>
                    <MudTablePager PageSizeOptions="new int[] { 10, 25, 50, 100 }" InfoFormat="@($"{infoFormat}")" HorizontalAlignment="HorizontalAlignment.End" />
                </PagerContent>
            </MudTable>
            <MudButton ButtonType="ButtonType.Button" Class="mt-5 mb-5" Href="/addSecurity" Style="text-transform:none" Variant="Variant.Filled" EndIcon="@Icons.Material.Filled.Add" Color="Color.Primary">Add Security</MudButton>
        </Authorized>
        <NotAuthorized>
            <MudText Typo="Typo.subtitle1">Please first <MudLink Href="/login">login</MudLink> to see this page</MudText>
        </NotAuthorized>
    </AuthorizeView>
}






